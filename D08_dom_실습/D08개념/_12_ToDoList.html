<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div align="center">
        <!-- 4. 클래스 이름이 모두 같기 때문에 클릭했을 때 누가 선택되었는지 확인하기 위해
                value속성을 추가한다.
        -->
        <p>
            <input type="checkbox" class="chbox" value="안녕0">
            <span class="line">안녕0</span>
        </p>
        <p>
            <input type="checkbox" class="chbox" value="안녕1">
            <span class="line">안녕1</span>
        </p>
        <p>
            <input type="checkbox" class="chbox" value="안녕2">
            <span class="line">안녕2</span>
        </p>
        <p>
            <input type="checkbox" class="chbox" value="안녕3">
            <span class="line">안녕3</span>
        </p>
    </div>

    <script>
        // 1. 클래스명이 chbox인 태그 전부를(4개) 선택한다.
        ///   여러개이기 때문에 배열의 형태로 저장된다.
        let $chboxList = document.querySelectorAll(".chbox");
        console.log($chboxList.length);
        let $lineList = document.querySelectorAll(".line");

        // 2. 위에서 선택한 태그 4개에 전부 같은 이벤트(기능)를 등록한다.
        for(let i=0; i<$chboxList.length; i++) {
            $chboxList[i].addEventListener("click", addLine);
        }

        // 3. 이벤트가 발생했을 때 실행할 함수를 만든다.
        function addLine() {
            // this를 통해 누가 선택되었는지 확인할 수 있다.
            console.log(this);
            for(let i=0; i<$chboxList.length; i++) {
                // 여러 개의 체크들 중에서 내가 선택한 것(this)을 찾으면,
                if(this == $chboxList[i]) {
                    console.log(i);

                    // 체크박스에 체크가 되었을 때,
                    if($chboxList[i].checked == true) {
                        // 그 체크박스와 같은 위치의 클래스명이 line인 태그에 선을 긋는다.
                        $lineList[i].style.textDecoration = "line-through";
                    } else {
                        $lineList[i].style.textDecoration = "";
                    }
                }
            }
        }

    </script>
</body>
</html>